<Window
    x:Class="BatchRename.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:brc="clr-namespace:BRControl;assembly=BRControl"
    xmlns:ct="clr-namespace:BatchRename.Themes.CustomControl"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lib="clr-namespace:BatchRename.Lib"
    xmlns:local="clr-namespace:BatchRename"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Name="Window"
    Width="880"
    Height="520"
    Style="{DynamicResource MainWindowStyle}"
    mc:Ignorable="d">

    <Window.Resources>
        <lib:BreakpointConverter x:Key="BreakPointConverter" />

        <ControlTemplate x:Key="WidthNormalTemplate">
            <Grid
                Name="Container"
                Grid.Column="1"
                Effect="{DynamicResource DropShadowLight}" DragEnter="Container_DragEnter" DragLeave="Container_DragLeave">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="4*" />
                    <ColumnDefinition Width="20" />
                    <ColumnDefinition Width="6*" />
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <ct:RuleControl Grid.Column="0" Effect="{DynamicResource DropShadowLight}" />

                <ct:FilesControl Grid.Column="2" Effect="{DynamicResource DropShadowLight}" />

                <Grid.Style>
                    <Style TargetType="Grid">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=1}" Value="Small">
                                <Setter Property="Margin" Value="20,10,20,15" />
                            </DataTrigger>

                            <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=2}" Value="Medium">
                                <Setter Property="Margin" Value="30,10,30,20" />
                            </DataTrigger>

                            <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=3}" Value="Normal">
                                <Setter Property="Margin" Value="40,10,40,25" />
                            </DataTrigger>

                            <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=4}" Value="Large">
                                <Setter Property="Margin" Value="50,10,50,30" />
                            </DataTrigger>

                            <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}}" Value="ExtraLarge">
                                <Setter Property="Margin" Value="70,10,70,35" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
            </Grid>
        </ControlTemplate>

        <ControlTemplate x:Key="WidthSmallTemplate">
            <Grid>
                <ScrollViewer>
                    <StackPanel Margin="30,20">
                        <ct:RuleControl
                            Height="{Binding ActualHeight,
                                             ElementName=Window}"
                            MinHeight="200"
                            MaxHeight="500"
                            Effect="{DynamicResource DropShadowLight}" />

                        <ct:FilesControl
                            Height="{Binding ActualHeight,
                                             ElementName=Window}"
                            MinHeight="200"
                            MaxHeight="500"
                            Margin="0,40,0,0"
                            Effect="{DynamicResource DropShadowLight}" />
                    </StackPanel>

                </ScrollViewer>
            </Grid>
        </ControlTemplate>
    </Window.Resources>

    <Grid>
        <ContentControl>
            <ContentControl.Style>
                <Style TargetType="ContentControl">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=1}" Value="Small">
                            <Setter Property="Template" Value="{StaticResource WidthSmallTemplate}" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=2}" Value="Medium">
                            <Setter Property="Template" Value="{StaticResource WidthNormalTemplate}" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=3}" Value="Normal">
                            <Setter Property="Template" Value="{StaticResource WidthNormalTemplate}" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}, ConverterParameter=4}" Value="Large">
                            <Setter Property="Template" Value="{StaticResource WidthNormalTemplate}" />
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ActualWidth, ElementName=Window, Converter={StaticResource BreakPointConverter}}" Value="ExtraLarge">
                            <Setter Property="Template" Value="{StaticResource WidthNormalTemplate}" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>
    </Grid>

    <!--<Grid Margin="{DynamicResource PaddingXLargeYMedium}" Effect="{DynamicResource DropShadowLight}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

    -->
    <!--<Grid
            Grid.Row="10"
            Grid.Column="20"
            Width="390"
            Height="380">
            <Grid.RowDefinitions>
                <RowDefinition Height="20" />
                <RowDefinition Height="40" />
                <RowDefinition Height="30" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
    -->
    <!--  Button  -->
    <!--
            <TextBlock
                Grid.Row="0"
                Margin="10,0,0,0"
                Text="Action" />
            <Canvas Grid.Row="1">
                <Button
                    Canvas.Left="10"
                    Canvas.Top="10"
                    Width="100">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="10" />
                        </Style>
                    </Button.Resources>
                    <Button.Content>
                        <TextBlock><Bold>Choose Folder</Bold></TextBlock>
                    </Button.Content>
                </Button>

                <Button
                    Canvas.Left="120"
                    Canvas.Top="10"
                    Width="100"
                    Background="#3B82F6">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="10" />
                        </Style>
                    </Button.Resources>
                    <Button.Content>

                        <TextBlock><Bold>Choose Folder</Bold></TextBlock>
                    </Button.Content>
                </Button>

                <Button
                    Canvas.Left="230"
                    Canvas.Top="10"
                    Width="70">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="10" />
                        </Style>
                    </Button.Resources>
                    <Button.Content>
                        <TextBlock Style="{DynamicResource Subtitle}"><Bold>Convert</Bold></TextBlock>
                    </Button.Content>
                </Button>

                <Button Name="btnRuleWindow" Click="btnRuleWindow_Click">Open Rule Window</Button>
            </Canvas>
    -->
    <!--  Button  -->
    <!--  File part  -->
    <!--
            <ListView
                Grid.Row="2"
                Grid.RowSpan="2"
                Background="Transparent">
                <ListView.Resources>
                    <Style TargetType="GridViewColumnHeader">
                        <Setter Property="Background" Value="Transparent" />
                    </Style>
                </ListView.Resources>
                <ListView.View>
                    <GridView>
                        <GridViewColumn Width="40" Header="#" />
                        <GridViewColumn Width="150" Header="File Name" />
                        <GridViewColumn Width="200" Header="New File Name" />
                    </GridView>
                </ListView.View>
            </ListView>
    -->
    <!--  File part  -->
    <!--  Border  -->
    <!--  Border  -->
    <!--
        </Grid>-->
    <!--

    </Grid>-->
</Window>